Open your encoding.js folder in node_modules>whatwg-url>dist

and white this code


"use strict";
var util= require('util');
const utf8Encoder = new util.TextEncoder();
const utf8Decoder = new util.TextDecoder("utf-8", { ignoreBOM: true });


in place of


"use strict";
const utf8Encoder = new TextEncoder();
const utf8Decoder = new TextDecoder("utf-8", { ignoreBOM: true });


all you where missing is this small part by including utils


var util= require('util');
const utf8Encoder = new util.TextEncoder();
const utf8Decoder = new util.TextEncoder("utf-8", { ignoreBOM: true });


REFERENCE FROM:
https://stackoverflow.com/questions/69187442/const-utf8encoder-new-textencoder-in-node-js
